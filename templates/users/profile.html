{# templates/users/profile.html #}
{% extends "base.html" %}
{% block content %}
  <div class="card mb-4">
    <div class="card-body">
      <h3 class="card-title">Hello, {{ object.user.username }}!</h3>
      <div class="d-flex align-items-center mb-3">
      <h3 class="me-3">{{ object.user.username }}</h3>
      <span class="badge bg-info text-dark">
        Reputation: {{ reputation_score }}
      </span>
    </div>

    <form method="post" action="{% url 'reputation:vote' %}" class="d-inline me-1">
      {% csrf_token %}
      <input type="hidden" name="profile_id" value="{{ object.pk }}">
      <input type="hidden" name="value" value="1">
      <button type="submit" class="btn btn-sm btn-outline-success">
        <i class="bi bi-hand-thumbs-up"></i>
      </button>
    </form>

    <form method="post" action="{% url 'reputation:vote' %}" class="d-inline">
      {% csrf_token %}
      <input type="hidden" name="profile_id" value="{{ object.pk }}">
      <input type="hidden" name="value" value="-1">
      <button type="submit" class="btn btn-sm btn-outline-danger">
        <i class="bi bi-hand-thumbs-down"></i>
      </button>
    </form>

      <a href="{% url 'users:profile_edit' %}" class="btn btn-sm btn-outline-secondary ms-2">
        Edit Profile
      </a>
      <p><strong>Email:</strong> {{ object.user.email }}</p>
      <p><strong>Bio:</strong> {{ object.bio|default:"(none)" }}</p>
      <p>
        <strong>Offered Skills:</strong><br>
        {% for skill in object.skills.all %}
          <span class="badge bg-secondary me-1">{{ skill.name }}</span>
        {% empty %}
          <em>No skills yet.</em>
        {% endfor %}
      </p>
    </div>
  </div>
{% endblock %}
